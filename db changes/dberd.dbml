TABLE USER_ROLE {
  ROLE_ID NUMBER [PRIMARY KEY]
  ROLE_NAME VARCHAR2(100) [NOT NULL, UNIQUE]
}

TABLE ROLE_PERMISSION {
  PERMISSION_ID NUMBER [PRIMARY KEY]
  ROLE_ID NUMBER [NOT NULL]
  TABLE_NAME VARCHAR2(50) [NOT NULL]
  IS_READ_ONLY NUMBER(1) [DEFAULT: 1] // 1 = only select, 0 = full access
}

TABLE USERS {
  USER_ID NUMBER [PRIMARY KEY]
  USERNAME VARCHAR2(255) [NOT NULL, UNIQUE]
  PASSWORD VARCHAR2(255) [NOT NULL]
  ROLE_ID NUMBER [NOT NULL]
  IS_ACTIVE NUMBER(1) [DEFAULT: 1]  // 1 = ACTIVE, 0 = INACTIVE
}

TABLE CUSTOMER {
  CUSTOMER_ID NUMBER [PRIMARY KEY]
  NAME VARCHAR2(255) [NOT NULL]
  PHONE VARCHAR2(20) [NOT NULL]
  EMAIL VARCHAR2(255) [UNIQUE]
  IS_ACTIVE NUMBER(1) [DEFAULT: 1]
}

TABLE VEHICLE {
  VEHICLE_ID NUMBER [PRIMARY KEY]
  CUSTOMER_ID NUMBER [NOT NULL]
  MAKE VARCHAR2(255) [NOT NULL]
  MODEL VARCHAR2(255) [NOT NULL]
  YEAR NUMBER [NOT NULL]
  VIN VARCHAR2(17) [NOT NULL, UNIQUE]
  IS_ACTIVE NUMBER(1) [DEFAULT: 1]
}

TABLE MECHANIC {
  MECHANIC_ID NUMBER [PRIMARY KEY]
  NAME VARCHAR2(255) [NOT NULL]
  PHONE VARCHAR2(20) [NOT NULL]
  SPECIALIZATION VARCHAR2(255)
  IS_ACTIVE NUMBER(1) [DEFAULT: 1]
}

TABLE SERVICE {
  SERVICE_ID NUMBER [PRIMARY KEY]
  SERVICE_NAME VARCHAR2(255) [NOT NULL]
  SERVICE_TYPE_ID NUMBER [NOT NULL]
  PRICE DECIMAL(10,2) [NOT NULL]
  IS_ACTIVE NUMBER(1) [DEFAULT: 1]
}

TABLE APPOINTMENT_STATUS {
  STATUS_ID CHAR(1) [PRIMARY KEY]
  STATUS_NAME VARCHAR2(255) [NOT NULL, UNIQUE] // SCHEDULED, IN PROGRESS, COMPLETED, CANCELED
}

TABLE APPOINTMENT {
  APPOINTMENT_ID NUMBER [PRIMARY KEY]
  CUSTOMER_ID NUMBER [NOT NULL]
  VEHICLE_ID NUMBER [NOT NULL]
  SERVICE_ID NUMBER [NOT NULL]
  MECHANIC_ID NUMBER
  APPOINTMENT_DATE DATE [NOT NULL]
  STATUS_ID CHAR(1) [NOT NULL]
  IS_ACTIVE NUMBER(1) [DEFAULT: 1]
}

TABLE INVENTORY {
  ITEM_ID NUMBER [PRIMARY KEY]
  ITEM_NAME VARCHAR2(255) [NOT NULL]
  QUANTITY NUMBER [NOT NULL, DEFAULT: 0]
  PRICE DECIMAL(10,2) [NOT NULL]
  IS_ACTIVE NUMBER(1) [DEFAULT: 1]
}

TABLE SERVICE_INVENTORY {
  SERVICE_ID NUMBER [NOT NULL]
  ITEM_ID NUMBER [NOT NULL]
  QUANTITY_REQUIRED NUMBER [NOT NULL]
  INDEXES {
    (SERVICE_ID, ITEM_ID) [UNIQUE]
  }
}

TABLE AUDIT_LOG {
  AUDIT_ID NUMBER [PRIMARY KEY]
  TABLE_NAME VARCHAR2(255) [NOT NULL]
  OPERATION_TYPE VARCHAR2(10) [NOT NULL]
  PRIMARY_KEY_VALUE VARCHAR2(255) [NOT NULL]
  PERFORMED_BY NUMBER [NOT NULL]
  PERFORMED_AT TIMESTAMP
}

TABLE AUDIT_LOG_DETAIL {
  DETAIL_ID NUMBER [PRIMARY KEY]
  AUDIT_ID NUMBER [NOT NULL]
  COLUMN_NAME VARCHAR2(100) [NOT NULL]
  OLD_VALUE VARCHAR2(255)
  NEW_VALUE VARCHAR2(255)
}

REF: USERS.ROLE_ID > USER_ROLE.ROLE_ID
REF: VEHICLE.CUSTOMER_ID > CUSTOMER.CUSTOMER_ID
REF: APPOINTMENT.CUSTOMER_ID > CUSTOMER.CUSTOMER_ID
REF: APPOINTMENT.VEHICLE_ID > VEHICLE.VEHICLE_ID
REF: APPOINTMENT.SERVICE_ID > SERVICE.SERVICE_ID
REF: APPOINTMENT.MECHANIC_ID > MECHANIC.MECHANIC_ID
REF: APPOINTMENT.STATUS_ID > APPOINTMENT_STATUS.STATUS_ID
REF: SERVICE_INVENTORY.SERVICE_ID > SERVICE.SERVICE_ID
REF: SERVICE_INVENTORY.ITEM_ID > INVENTORY.ITEM_ID
REF: AUDIT_LOG.PERFORMED_BY > USERS.USER_ID
REF: USER_ROLE.ROLE_ID < ROLE_PERMISSION.ROLE_ID
REF: AUDIT_LOG.AUDIT_ID < AUDIT_LOG_DETAIL.AUDIT_ID
